(this["webpackJsonptext-identify"]=this["webpackJsonptext-identify"]||[]).push([[0],{157:function(module,__webpack_exports__,__webpack_require__){"use strict";var _API_baidu__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33);function transform(dataZhs,dataDes){var deSpecials=["\xfc","\xdc","\xd6","\xf6","\xc4","\xe4","\xdf"];return dataDes.map((function(line,lineIndex){var lines=line.words.split(" ");lines.map((function(word){deSpecials.map((function(deSpecial){var specialAt=word.indexOf(deSpecial);if(specialAt>0){var wordFront=word.slice(0,specialAt),wordBack=word.slice(specialAt+1),r="/".concat(wordFront,".").concat(wordBack,"/i");dataZhs[lineIndex].words=dataZhs[lineIndex].words.replace(eval(r),word)}}))}))})),dataZhs.map((function(e){return e.words}))}function cnEnGe(e,t){return new Promise((function(a,n){var r={image:encodeURI(e),language_type:"ZH_EN",paragraph:"true",probability:"false",recognize_granularity:"big",detect_direction:"true"},c={image:encodeURI(e),language_type:"GER",paragraph:"true",probability:"false",recognize_granularity:"big",detect_direction:"true"};Promise.all([_API_baidu__WEBPACK_IMPORTED_MODULE_0__.a.ocr(t(r)),_API_baidu__WEBPACK_IMPORTED_MODULE_0__.a.ocr(t(c))]).then((function(e){var t=transform(e[0].data.words_result,e[1].data.words_result);a(t)})).catch((function(e){n()}))}))}__webpack_exports__.a=cnEnGe},178:function(e,t,a){e.exports=a(384)},183:function(e,t,a){},184:function(e,t,a){},33:function(e,t,a){"use strict";var n=a(385),r=a(185),c=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null},o={access_token:localStorage.getItem("access_token")},l="https://aip.baidubce.com",i=c("method");if("localhost"===i){var s=c("host")||7007;l="http://localhost:"+s}else"dev"===i&&(l="");var u={auth:function(e){return console.log("token",o.access_token),o.access_token?null:r.get(l+"/oauth/2.0/token",{params:{grant_type:"client_credentials",client_id:"I9SK2hqWq1sBWZPFPiWElvSc",client_secret:"WqIqxCwKtZRGvYbDa2WD3DAQuAm2O007"}}).then((function(e){o.access_token=e.data.access_token,localStorage.setItem("access_token",e.data.access_token)})).catch((function(e){n.a.error("\u9519\u8bef\uff0c\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc\uff0c\u53ef\u80fd\u662f\u4ee3\u7406\u670d\u52a1\u672a\u5f00\u542f")}))},ocr:function(e){return r.post(l+"/rest/2.0/ocr/v1/general_basic?access_token=".concat(o.access_token),e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}};t.a=u},363:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=(a(183),a(56)),i=(a(184),a(33)),s=a(52),u=a(106),d=a(387),m=a(385),_=a(390),p=a(157),f=d.a.Dragger,v={direction:0,paragraphs_result_num:3,log_id:0x560bc381229e6000,words_result_num:9,words_result:[{words:"h zu"},{words:"k\xf6nnen sie sich vorstellen ?"},{words:"siehe e ?"},{words:"darf ich mich vorstellen ?"},{words:"die er ?"},{words:"wie hei\xdfen sie ? wie hei\xdft du ?"},{words:"entre ? uralte ?"},{words:"ich hei\xdfe ."},{words:"er"}],paragraphs_result:[{words_result_idx:[0]},{words_result_idx:[1,2,3,4]},{words_result_idx:[5,6,7,8]}]},g=function(e){var t=[];return e.words_result.forEach((function(e){t.push(e.words)})),t},w=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){t.append(e[0],e[1])})),t},h=0,E=0,b={},x=!1;var k=function(e,t,a){b.text=e;var c=Object(n.useState)(!1),o=Object(l.a)(c,2),d=o[0],k=o[1],y=function(e,a){k(!1),E+=1,t(Object(u.a)({},b.text,Object(s.a)({},E,{words:e,image:a})))};h<0&&(E+=1,t(Object(u.a)({},e,Object(s.a)({},E,{words:g(v),image:"33333"}))),h+=1);var O=function(e){k(!0);var t=new FileReader;return t.readAsDataURL(e),t.onload=function(){var e=this.result,t=e.split(",");if(console.log(t),"CHN_GER"!==a){var n={image:encodeURI(t[1]),language_type:a,paragraph:"true",probability:"false",recognize_granularity:"big",detect_direction:"true"},r=w(n);i.a.ocr(r).then((function(t){y(g(t.data),e)})).catch((function(){k(!0),m.a.error("\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}))}else Object(p.a)(t[1],w).then((function(e){y(e,t),k(!1)})).catch((function(){k(!1),m.a.error("\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}))},!1};return x||(window.addEventListener("paste",(function(e){if(!d){k(!1);var t=e.clipboardData.items,a=!0,n=!1,r=void 0;try{for(var c,o=t[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var l=c.value;"file"===l.kind&&O(l.getAsFile())}}catch(i){n=!0,r=i}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}}})),x=!0),r.a.createElement("div",null,r.a.createElement(f,{name:"image",beforeUpload:O,listType:"picture-card",multiple:!0,showUploadList:!1},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(_.a,null)),r.a.createElement("p",{className:"ant-upload-text"},d?"\u4e0a\u4f20\u4e2d\uff0c\u8bf7\u7a0d\u540e...":"\u5355\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"),r.a.createElement("p",null,"\u6216\u6309 Ctrl/Commend + V \u4ece\u7c98\u8d34\u677f\u4e0a\u4e0a\u4f20")))},y=(a(363),a(388)),O=a(392),N=y.a.Option,I=function(e){return e.map((function(e){return r.a.createElement("p",{className:"result-one-text",key:e},e)}))},S=function(){var e=document.createRange(),t=document.getElementById("result-text");e.selectNode(t),window.getSelection().selectAllChildren(t),document.execCommand("Copy")},C=[{value:"CHN_ENG",text:"\u4e2d\u82f1"},{value:"CHN_GER",text:"\u4e2d\u5fb7"},{value:"GER",text:"\u5fb7"},{value:"ENG",text:"\u82f1"},{value:"JAP",text:"\u65e5"},{value:"KOR",text:"\u97e9"},{value:"FRE",text:"\u6cd5"},{value:"SPA",text:"\u897f\u73ed\u7259"},{value:"POR",text:"\u8461\u8404\u7259"},{value:"ITA",text:"\u610f\u5927\u5229"},{value:"RUS",text:"\u4fc4"}];var R=function(e,t,a,n){var c="\u4e2d\u82f1";return C.some((function(e){if(e.value===a)return c=e.text,!0})),r.a.createElement("div",null,r.a.createElement("div",{className:"result-action"},r.a.createElement(y.a,{defaultValue:c,className:"action-btn",onSelect:function(e){n(e),localStorage.setItem("language_type",e)}},C.map((function(e){return r.a.createElement(N,{value:e.value,key:e.value},e.text)}))),r.a.createElement(O.a,{onClick:S,className:"action-btn"},"\u5168\u9009\u590d\u5236"),r.a.createElement(O.a,{onClick:function(){t({})},className:"action-btn"},"\u6e05\u7a7a")),r.a.createElement("div",{className:"result-box"},r.a.createElement("div",{className:"result-image"},Object.keys(e).length>0&&Object.keys(e).map((function(a){return r.a.createElement("div",{key:a,className:"result-image-one"},r.a.createElement("div",{className:"result-one resulxt-one-transparent"},I(e[a].words)),r.a.createElement("div",{className:"result-one-image"},r.a.createElement("img",{src:e[a].image,alt:"\u4e0a\u4f20\u7684\u56fe\u50cf",className:"result-one-img"})),r.a.createElement("div",{className:"result-one-delete",onClick:function(){!function(a){var n=JSON.parse(JSON.stringify(e));delete n[a],t(n)}(a)}},r.a.createElement("span",null,"\u274c")))}))),r.a.createElement("div",{className:"resut-text",suppressContentEditableWarning:!0,contentEditable:!0,id:"result-text"},Object.keys(e).length>0&&Object.keys(e).map((function(t){return r.a.createElement("div",{key:t,className:"result-one"},I(e[t].words))})))))},A=(a(369),a(389));var P=function(){i.a.auth();var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1],o=localStorage.getItem("language_type")||"CH_ENG",s=Object(n.useState)(o),u=Object(l.a)(s,2),d=u[0],m=u[1];return r.a.createElement("div",null,r.a.createElement(A.a,{title:"\ud83c\udf88CC\u6587\u5b57\u8bc6\u522b",subTitle:"",extra:[r.a.createElement("a",{target:"_bank",href:"https://github.com/seaasun/text-identify",key:"1"},"\u2764GitHub")]}),k(a,c,d),R(a,c,d,m))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[178,1,2]]]);
//# sourceMappingURL=main.8cbf4650.chunk.js.map