(this["webpackJsonptext-scane"]=this["webpackJsonptext-scane"]||[]).push([[0],{154:function(e,t,n){e.exports=n(341)},159:function(e,t,n){},160:function(e,t,n){},339:function(e,t,n){},341:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(3),s=n.n(o),i=(n(159),n(61)),l=(n(160),n(161)),u={access_token:null};a="https://aip.baidubce.com";var d={auth:function(e){return l.get(a+"/oauth/2.0/token",{params:{grant_type:"client_credentials",client_id:"I9SK2hqWq1sBWZPFPiWElvSc",client_secret:"WqIqxCwKtZRGvYbDa2WD3DAQuAm2O007"}}).then((function(e){u.access_token=e.data.access_token,window.dict=u}))},ocr:function(e){return l.post(a+"/rest/2.0/ocr/v1/general_basic?access_token=".concat(u.access_token),e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},m=n(39),h=n(86),p=n(343),w=n(346),g=n(345),f=p.a.Dragger,v={direction:0,paragraphs_result_num:3,log_id:0x560bc381229e6000,words_result_num:9,words_result:[{words:"h zu"},{words:"k\xf6nnen sie sich vorstellen ?"},{words:"siehe e ?"},{words:"darf ich mich vorstellen ?"},{words:"die er ?"},{words:"wie hei\xdfen sie ? wie hei\xdft du ?"},{words:"entre ? uralte ?"},{words:"ich hei\xdfe ."},{words:"er"}],paragraphs_result:[{words_result_idx:[0]},{words_result_idx:[1,2,3,4]},{words_result_idx:[5,6,7,8]}]},_=function(e){var t=[];return e.words_result.forEach((function(e){t.push(e.words)})),t},E=0;var b=function(e,t){var n=Object(r.useState)(!1),a=Object(i.a)(n,2),o=a[0],s=a[1],l=(_(v),Object.keys(e).length.toString());return E<0&&(t(Object(h.a)({},e,Object(m.a)({},l,{words:_(v),image:"33333"}))),E+=1),c.a.createElement("div",null,c.a.createElement(f,{name:"image",beforeUpload:function(n){s(!0);var a=new FileReader;return a.readAsDataURL(n),a.onload=function(){var n=this.result,a=n.split(","),r=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){console.log(e),t.append(e[0],e[1])})),t}({image:encodeURI(a[1]),language_type:"GER",paragraph:!0,recognize_granularity:"big",detect_direction:!0,vertexes_location:!1});d.ocr(r).then((function(a){s(!1),t(Object(h.a)({},e,Object(m.a)({},l,{words:_(v),image:n})))})).catch((function(e){s(!0),w.a.success("\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}))},!1},listType:"picture-card",multiple:!0,showUploadList:!1},c.a.createElement("p",{className:"ant-upload-drag-icon"},c.a.createElement(g.a,null)),c.a.createElement("p",{className:"ant-upload-text"},o?"\u4e0a\u4f20\u4e2d\uff0c\u8bf7\u7a0d\u540e...":"\u5355\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247")))},k=(n(339),n(344)),x=function(e){return e.map((function(e){return c.a.createElement("p",{className:"result-one-text",key:e},e)}))},y=function(){var e=document.createRange(),t=document.getElementById("result-text");e.selectNode(t);var n=window.getSelection();n.selectAllChildren(t),console.log(n),document.execCommand("Copy")};var N=function(e,t){if(0===Object.keys(e).length)return null;var n=c.a.createRef();return c.a.createElement("div",null,c.a.createElement("div",{className:"result-action"},c.a.createElement(k.a,{onClick:y,className:"action-btn"},"\u590d\u5236"),c.a.createElement(k.a,{onClick:function(){t({})},className:"action-btn"},"\u6e05\u7a7a")),c.a.createElement("div",{className:"result-box"},c.a.createElement("div",{className:"result-image"},Object.keys(e).map((function(n){return c.a.createElement("div",{key:n,className:"result-image-one"},c.a.createElement("div",{className:"result-one result-one-transparent"},x(e[n].words)),c.a.createElement("div",{className:"result-one-image"},c.a.createElement("img",{src:e[n].image})),c.a.createElement("div",{className:"result-one-delete",onClick:function(){!function(n){var a=JSON.parse(JSON.stringify(e));delete a[n],console.log(111,a),t(a)}(n)}},"X"))}))),c.a.createElement("div",{className:"resut-text",ref:n,id:"result-text"},Object.keys(e).map((function(t){return c.a.createElement("div",{key:t,className:"result-one"},x(e[t].words))})))))};n(340);var O=function(){d.auth().then((function(e){console.log(e)}));var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",null,b(n,a),N(n,a))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[154,1,2]]]);
//# sourceMappingURL=main.e5977e95.chunk.js.map