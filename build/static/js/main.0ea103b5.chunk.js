(this["webpackJsonptext-identify"]=this["webpackJsonptext-identify"]||[]).push([[0],{165:function(e,t,a){e.exports=a(357)},170:function(e,t,a){},171:function(e,t,a){},350:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=(a(170),a(47)),l=(a(171),a(172)),i=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null},u={access_token:localStorage.getItem("access_token")},d="https://aip.baidubce.com",m=i("queryMethod");if("localhost"===m){var v=i("host")||7007;d="http://localhost:"+v}else"dev"===m&&(d="");var h={auth:function(e){return console.log("token",u.access_token),u.access_token?null:l.get(d+"/oauth/2.0/token",{params:{grant_type:"client_credentials",client_id:"I9SK2hqWq1sBWZPFPiWElvSc",client_secret:"WqIqxCwKtZRGvYbDa2WD3DAQuAm2O007"}}).then((function(e){u.access_token=e.data.access_token,localStorage.setItem("access_token",e.data.access_token)}))},ocr:function(e){return l.post(d+"/rest/2.0/ocr/v1/general_basic?access_token=".concat(u.access_token),e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},w=a(43),f=a(94),p=a(359),g=a(362),E=a(361),_=[{words:"h zu"},{words:"k\xf6nnen sie sich vorstellen ?"},{words:"siehe e ?"},{words:"darf ich mich vorstellen ?"},{words:"die er ?"},{words:"wie hei\xdfen sie ? wie hei\xdft du ?"},{words:"entre ? uralte ?"},{words:"ich hei\xdfe ."},{words:"er"}];var x=function(e,t,a,n){!function(e,t){var a=["\xfc","\xdc","\xd6","\xf6","\xc4","\xe4","\xdf"];e.map((function(e,t){e.words.split(" ").map((function(e){a.map((function(t){e.includes(t)&&console.log(3333)}))}))}))}(_)},b=p.a.Dragger,k={direction:0,paragraphs_result_num:3,log_id:0x560bc381229e6000,words_result_num:9,words_result:[{words:"h zu"},{words:"k\xf6nnen sie sich vorstellen ?"},{words:"siehe e ?"},{words:"darf ich mich vorstellen ?"},{words:"die er ?"},{words:"wie hei\xdfen sie ? wie hei\xdft du ?"},{words:"entre ? uralte ?"},{words:"ich hei\xdfe ."},{words:"er"}],paragraphs_result:[{words_result_idx:[0]},{words_result_idx:[1,2,3,4]},{words_result_idx:[5,6,7,8]}]},N=function(e){var t=[];return e.words_result.forEach((function(e){t.push(e.words)})),t},y=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){t.append(e[0],e[1])})),t},O=0,S=0,j={};var R=function(e,t,a){j.text=e;var c=Object(n.useState)(!1),o=Object(s.a)(c,2),l=o[0],i=o[1];return O<0&&(S+=1,t(Object(f.a)({},e,Object(w.a)({},S,{words:N(k),image:"33333"}))),O+=1),r.a.createElement("div",null,r.a.createElement(b,{name:"image",beforeUpload:function(e){i(!0);var n=new FileReader;return n.readAsDataURL(e),n.onload=function(){var e=this.result,n=e.split(",");if("CHN_ENG_DE"!==a){var r={image:encodeURI(n[1]),language_type:a,paragraph:"true",probability:"false",recognize_granularity:"big",detect_direction:"true"},c=y(r);h.ocr(c).then((function(a){i(!1),S+=1,t(Object(f.a)({},j.text,Object(w.a)({},S,{words:N(a.data),image:e})))})).catch((function(e){i(!0),g.a.success("\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5")}))}else x(n[1],j,t,y)},!1},listType:"picture-card",multiple:!0,showUploadList:!1},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(E.a,null)),r.a.createElement("p",{className:"ant-upload-text"},l?"\u4e0a\u4f20\u4e2d\uff0c\u8bf7\u7a0d\u540e...":"\u5355\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247")))},C=(a(350),a(360)),G=a(363),I=C.a.Option,A=function(e){return e.map((function(e){return r.a.createElement("p",{className:"result-one-text",key:e},e)}))},W=function(){var e=document.createRange(),t=document.getElementById("result-text");e.selectNode(t);var a=window.getSelection();a.selectAllChildren(t),console.log(a),document.execCommand("Copy")},D=[{value:"CHN_ENG",text:"\u4e2d\u82f1"},{value:"CHN_ENG_GE",text:"\u4e2d\u82f1\u5fb7"},{value:"ENG",text:"\u82f1"},{value:"JAP",text:"\u65e5"},{value:"KOR",text:"\u97e9"},{value:"FRE",text:"\u6cd5"},{value:"SPA",text:"\u897f\u73ed\u7259"},{value:"POR",text:"\u8461\u8404\u7259"},{value:"GER",text:"\u5fb7"},{value:"ITA",text:"\u610f\u5927\u5229"},{value:"RUS",text:"\u4fc4"}];var P=function(e,t,a,n){var c=r.a.createRef();return r.a.createElement("div",null,r.a.createElement("div",{className:"result-action"},r.a.createElement(C.a,{defaultValue:"\u4e2d\u82f1",className:"action-btn",onSelect:function(e){n(e)}},D.map((function(e){return r.a.createElement(I,{value:e.value,key:e.value},e.text)}))),r.a.createElement(G.a,{onClick:W,className:"action-btn"},"\u5168\u9009\u590d\u5236"),r.a.createElement(G.a,{onClick:function(){t({})},className:"action-btn"},"\u6e05\u7a7a")),r.a.createElement("div",{className:"result-box"},r.a.createElement("div",{className:"result-image"},Object.keys(e).map((function(a){return r.a.createElement("div",{key:a,className:"result-image-one"},r.a.createElement("div",{className:"result-one result-one-transparent"},A(e[a].words)),r.a.createElement("div",{className:"result-one-image"},r.a.createElement("img",{src:e[a].image})),r.a.createElement("div",{className:"result-one-delete",onClick:function(){!function(a){var n=JSON.parse(JSON.stringify(e));delete n[a],t(n)}(a)}},"X"))}))),r.a.createElement("div",{className:"resut-text",ref:c,id:"result-text"},Object.keys(e).map((function(t){return r.a.createElement("div",{key:t,className:"result-one"},A(e[t].words))})))))};a(356);var U=function(){h.auth();var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("CH_ENG"),l=Object(s.a)(o,2),i=l[0],u=l[1];return r.a.createElement("div",null,R(a,c,i),P(a,c,i,u))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[165,1,2]]]);
//# sourceMappingURL=main.0ea103b5.chunk.js.map